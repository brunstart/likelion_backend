## IoC (Inversion of Control)
- 제어의 역전, 객체의 생명 주기를 스프링이 관리, 결합도를 낮춤
- 장점 : 코드변경에 유리, 유지보수가 편함

## IoC 컨테이너에게 Bean의 정보를 알려주는 방법
1. XML 파일을 이용 : 익숙해지면 편할 수 있지만 오타가 날 경우 실행시점에 오류가 발생
2. JavaConfig 사용 : 문제가 생기면 컴파일 단계에서 오류가 발생
3. 어노테이션 사용 : 내가 만든 객체가 아니면 붙일 수 없음

### 프레임워크는 완제품이 아닌 반제품이다.
- 무언가 자동으로 동작한다면 알려줘야할 정보가 있을 것이다.

## DI (Dependency Injection) : 의존성 주입
- 의존성을 외부에서 주입
1. 필드 주입 : 필드에 @Autowired 사용
2. 생성자 주입 : @Component + @Autowired | JavaConfig에 직접 등록
3. 설정자 주입 (Setter 메소드) : @Component + @Autowired | javaConfig에 직접 등록

## @SpringBootApplication
- 해당 어노테이션 사용 시 공장을 스프링부트가 자동으로 생성
- @Component를 알아서 읽어옴
- @Component가 없을 경우 JavaConfig에 @Configuration 추가해야함<br><br>

- UserDao 타입이 하나면 그냥 타입 맞는거 찾아서 연결, 두개면 연결 못함, repository 하나가 userDao로 ID를 설정하면 연결해줌
- @Qualifier("")로 주입을 받는 쪽에서 ID 지정을 할 수도 있음

## Bean 생명주기
- @Postcontruct : 초기화 시 실행
- @Predestroy : 종료 시 실행

## Profile
- 운영DB와 개발DB는 보통 다름
- @Profile, modify run configuration에서 active profiles로 구분해서 실행 가능 (IntelliJ 얼티밋에서 가능)
- application.properties에 설정가능
```
    // application.properties
    # 활성 프로파일 설정
    spring.profiles.active=dev

    # application-dev.properties
    server.port=8080
    logging.level.root=DEBUG

    # application-prod.properties
    server.port=80
    logging.level.root=INFO
```
- 이렇게 해도 modify run configuration에 설정한 profile이 우선순위를 가지고 있음

## @SpringBootApplication
- 클래스 파일이 있는 경로를 베이스 패키지로 설정하기 때문에 파일 생성시 run이 아닌 sample 폴더(상위폴더)에 있어야함

## CommandLineRunner
- 스프링부트가 동작한 후에 실행하고자 하는 코드가 있을 때 사용 (간단하게 테스트 할 내용이 있을 때 주로 사용)
1. CommandLineRunner를 implement 해서 run 메소드를 override, implement한 클래스 자체가 CommandLineRunner가 되고, Spring은 CLR을 찾아서 run을 실행.
2. @Bean으로 CommandLineRunner 객체를 생성
```java
    @Bean
    public CommandLineRunner commandLineRunner(Game game) {     // 람다식으로 run 메소드를 구현
        return args -> {
            game.play();
        };
    }
```

## 어노테이션
- 어노테이션도 따로 제작이 가능 (어노테이션.java 파일 생성)
- @Target() : 어노테이션을 어디에 붙이게 할지 설정이 가능 (ElementType.METHOD로 설정하면 메소드에만 붙일 수 있다)
- @Retention() : 언제 실행되게 할지 설정 (RUNTIME, CLASS, SOURCE ...)

## 로그
- 표준은 SLF4J (import시 SLF4J를 하는게 좋음)
- 장점 : 개발이 끝나고나서 설정 파일 수정을 통해 출력여부, 출력위치(파일 등)를 결정할 수 있다. (System.out.println은 개발이 끝나면 다 빼줘야함)